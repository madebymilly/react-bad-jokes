{"version":3,"sources":["Joke.js","helpers.js","JokeList.js","App.js","index.js"],"names":["Joke","props","handleScoreUp","bind","handleScoreDown","getColor","getEmoticon","this","changeScore","joke","id","score","className","onClick","style","borderColor","Component","storeToLocalStorage","key","value","window","localStorage","setItem","JSON","stringify","JokeList","state","jokes","parse","getItem","loading","seenJokes","Set","map","handleClick","fetchJokes","length","setState","jokeID","amount","tempJokes","a","newJokes","numJokesToGet","axios","get","headers","Accept","response","newJokeTxt","data","has","newJoke","uuid","add","prevState","alert","orderedJokes","src","alt","defaultProps","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qWAGqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,cAAgB,EAAKA,cAAcC,KAAnB,gBACrB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKE,SAAW,EAAKA,SAASF,KAAd,gBAChB,EAAKG,YAAc,EAAKA,YAAYH,KAAjB,gBANF,E,iDASnB,WACEI,KAAKN,MAAMO,YAAYD,KAAKN,MAAMQ,KAAKC,GAAI,K,6BAG7C,WACEH,KAAKN,MAAMO,YAAYD,KAAKN,MAAMQ,KAAKC,IAAK,K,sBAG9C,WACE,OAAIH,KAAKN,MAAMQ,KAAKE,OAAS,GACpB,UACEJ,KAAKN,MAAMQ,KAAKE,OAAS,GAC3B,UACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,UACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,UACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,UACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,UAEA,Y,yBAIX,WACE,OAAIJ,KAAKN,MAAMQ,KAAKE,OAAS,GACpB,sCACEJ,KAAKN,MAAMQ,KAAKE,OAAS,GAC3B,iBACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,eACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,8BACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,qBACEJ,KAAKN,MAAMQ,KAAKE,OAAS,EAC3B,iBAEA,gB,oBAIX,WACE,IAAQF,EAASF,KAAKN,MAAdQ,KACR,OACE,sBAAKG,UAAU,OAAf,UACE,sBAAKA,UAAU,eAAf,UACE,mBAAGA,UAAU,iCAAiCC,QAASN,KAAKL,gBAC5D,qBAAKU,UAAU,aAAaE,MAAO,CAACC,YAAaR,KAAKF,YAAtD,SAAoEI,EAAKE,QACzE,mBAAGC,UAAU,qCAAqCC,QAASN,KAAKH,qBAElE,qBAAKQ,UAAU,YAAf,SACGH,EAAKA,OAER,qBAAKG,UAAU,gBAAf,SACE,mBAAGA,UAAWL,KAAKD,yB,GAnEKU,aCH3B,SAASC,EAAqBC,EAAKC,GACxCC,OAAOC,aAAaC,QAAQJ,EAAKK,KAAKC,UAAUL,I,ICM7BM,E,kDAMnB,WAAYxB,GAAQ,IAAD,8BACjB,cAAMA,IAEDyB,MAAQ,CACVC,MAAOJ,KAAKK,MAAMR,OAAOC,aAAaQ,QAAQ,UAAY,MAC1DC,SAAS,GAGZ,EAAKC,UAAY,IAAIC,IAAI,EAAKN,MAAMC,MAAMM,KAAI,SAAAxB,GAAI,OAAIA,EAAKA,SAE3D,EAAKD,YAAc,EAAKA,YAAYL,KAAjB,gBACnB,EAAK+B,YAAc,EAAKA,YAAY/B,KAAjB,gBACnB,EAAKgC,WAAa,EAAKA,WAAWhC,KAAhB,gBAZD,E,qDAenB,WACkC,IAA5BI,KAAKmB,MAAMC,MAAMS,QACnB7B,KAAK8B,SAAS,CAAEP,SAAS,GAAQvB,KAAK4B,c,yBAI1C,SAAYG,EAAQC,GAAS,IAAD,OACtBC,EAAYjC,KAAKmB,MAAMC,MAAMM,KAAI,SAAAxB,GAAI,OACvCA,EAAKC,KAAO4B,EAAZ,2BACS7B,GADT,IACeE,MAAOF,EAAKE,MAAQ4B,IAC/B9B,KAENF,KAAK8B,SAAS,CACZV,MAAOa,IACN,kBAAMvB,EAAoB,QAAS,EAAKS,MAAMC,Y,yBAKnD,WACEpB,KAAK8B,SAAS,CAAEP,SAAS,GAAQvB,KAAK4B,c,+DAGxC,yCAAAM,EAAA,+DAEQC,EAAW,GAFnB,YAGUA,EAASN,OAAS7B,KAAKN,MAAM0C,eAHvC,iCAI2BC,IAAMC,IAAI,8BAA+B,CAC5DC,QAAS,CAAEC,OAAQ,sBAL3B,OAIUC,EAJV,OAOYC,EAAaD,EAASE,KAAKzC,KAC5BF,KAAKwB,UAAUoB,IAAIF,KAChBG,EAAU,CAAE1C,GAAI2C,cAAQ5C,KAAMwC,EAAYtC,MAAO,GACvD+B,EAAQ,sBAAOA,GAAP,CAAiBU,IACzB7C,KAAKwB,UAAUuB,IAAIF,EAAQ3C,OAXnC,uBAcIF,KAAK8B,UAAS,SAAAkB,GAAS,MAAK,CAC1B5B,MAAM,GAAD,mBAAM4B,EAAU5B,OAAhB,YAA0Be,IAC/BZ,SAAS,MACP,WACFb,EAAoB,QAAS,EAAKS,MAAMC,OACxCV,EAAoB,YAAa,EAAKc,cAnB5C,kDAsBIyB,MAAM,EAAD,IACLjD,KAAK8B,SAAS,CAAEP,SAAS,IAvB7B,0D,0EA2BA,WAAU,IAAD,OACP,GAAIvB,KAAKmB,MAAMI,QACb,OACE,sBAAKlB,UAAU,mBAAf,UACE,mBAAGA,UAAU,+BACb,oBAAIA,UAAU,iBAAd,2BAMN,IAAM6C,EAAelD,KAAKmB,MAAMC,MAChC,OACE,sBAAKf,UAAU,WAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,qBAAIA,UAAU,iBAAd,UACE,uCADF,YAGA,qBAAK8C,IAAI,6FAA6FC,IAAI,WAC1G,wBAAQ/C,UAAU,mBAAmBC,QAASN,KAAK2B,YAAnD,iCAIF,qBAAKtB,UAAU,iBAAf,SACG6C,EAAaxB,KAAI,SAAAxB,GAAI,OACpB,cAAC,EAAD,CAAoBA,KAAMA,EAAMD,YAAa,EAAKA,aAAvCC,EAAKC,gB,GAhGUM,aAAjBS,EAEZmC,aAAe,CACpBjB,cAAe,ICCJkB,MARf,WACE,OACE,qBAAKjD,UAAU,MAAf,SACE,cAAC,EAAD,OCDNkD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2db6e2a7.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport './Joke.css'\n\nexport default class Joke extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.handleScoreUp = this.handleScoreUp.bind(this)\n    this.handleScoreDown = this.handleScoreDown.bind(this)\n    this.getColor = this.getColor.bind(this)\n    this.getEmoticon = this.getEmoticon.bind(this)\n  }\n\n  handleScoreUp() {\n    this.props.changeScore(this.props.joke.id, 1)\n  }\n\n  handleScoreDown() {\n    this.props.changeScore(this.props.joke.id, -1)\n  }\n\n  getColor() {\n    if (this.props.joke.score >= 15) {\n      return \"#4CAF50\";\n    } else if (this.props.joke.score >= 12) {\n      return \"#8BC34A\";\n    } else if (this.props.joke.score >= 9) {\n      return \"#CDDC39\";\n    } else if (this.props.joke.score >= 6) {\n      return \"#FFEB3B\";\n    } else if (this.props.joke.score >= 3) {\n      return \"#FFC107\";\n    } else if (this.props.joke.score >= 0) {\n      return \"#FF9800\";\n    } else {\n      return \"#f44336\";\n    }\n  }\n  \n  getEmoticon() {\n    if (this.props.joke.score >= 15) {\n      return \"em em-rolling_on_the_floor_laughing\";\n    } else if (this.props.joke.score >= 12) {\n      return \"em em-laughing\";\n    } else if (this.props.joke.score >= 9) {\n      return \"em em-smiley\";\n    } else if (this.props.joke.score >= 6) {\n      return \"em em-slightly_smiling_face\";\n    } else if (this.props.joke.score >= 3) {\n      return \"em em-neutral_face\";\n    } else if (this.props.joke.score >= 0) {\n      return \"em em-confused\";\n    } else {\n      return \"em em-angry\";\n    }\n  }\n\n  render() {\n    const { joke } = this.props;\n    return (\n      <div className=\"Joke\">\n        <div className=\"Joke-buttons\">\n          <i className=\"Joke-score-up far fa-thumbs-up\" onClick={this.handleScoreUp}></i>\n          <div className=\"Joke-score\" style={{borderColor: this.getColor()}}>{joke.score}</div>\n          <i className=\"Joke-score-down far fa-thumbs-down\" onClick={this.handleScoreDown}></i>\n        </div>\n        <div className=\"Joke-text\">\n          {joke.joke}\n        </div>\n        <div className=\"Joke-emoticon\">\n          <i className={this.getEmoticon()}></i>\n        </div>\n      </div>\n    )\n  }\n}\n","export function storeToLocalStorage( key, value ) {\n  window.localStorage.setItem(key, JSON.stringify(value));\n}","import React, { Component } from 'react'\nimport axios from 'axios'\nimport { v4 as uuid } from 'uuid'\nimport './JokeList.css'\nimport Joke from './Joke'\nimport { storeToLocalStorage } from './helpers'\n\nexport default class JokeList extends Component {\n  \n  static defaultProps = {\n    numJokesToGet: 10\n  }\n\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n       jokes: JSON.parse(window.localStorage.getItem('jokes') || '[]') ,\n       loading: false\n    }\n\n    this.seenJokes = new Set(this.state.jokes.map(joke => joke.joke));\n\n    this.changeScore = this.changeScore.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n    this.fetchJokes = this.fetchJokes.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.state.jokes.length === 0) {\n      this.setState({ loading: true }, this.fetchJokes);\n    }\n  }\n\n  changeScore(jokeID, amount) {\n    let tempJokes = this.state.jokes.map(joke =>\n      joke.id === jokeID\n        ? { ...joke, score: joke.score + amount }\n        : joke\n    );\n    this.setState({\n      jokes: tempJokes\n    }, () => storeToLocalStorage('jokes', this.state.jokes));\n    //window.localStorage.setItem('jokes', JSON.stringify(this.state.jokes)))\n    //console.log(window.localStorage)\n  }\n\n  handleClick() {\n    this.setState({ loading: true }, this.fetchJokes);\n  }\n\n  async fetchJokes() {\n    try {\n      let newJokes = [];\n      while(newJokes.length < this.props.numJokesToGet) {\n        let response = await axios.get(\"https://icanhazdadjoke.com/\", {\n          headers: { Accept: \"application/json\" } // because the default is html, and we want JSON\n        });\n        const newJokeTxt = response.data.joke;\n        if (!this.seenJokes.has(newJokeTxt)) {\n          const newJoke = { id: uuid(), joke: newJokeTxt, score: 0 }\n          newJokes = [...newJokes, newJoke];\n          this.seenJokes.add(newJoke.joke);\n        }\n      }\n      this.setState(prevState => ({\n        jokes: [...prevState.jokes, ...newJokes],\n        loading: false\n      }), () => {\n        storeToLocalStorage('jokes', this.state.jokes)\n        storeToLocalStorage('seenJokes', this.seenJokes)\n      });\n    } catch(e) {\n      alert(e);\n      this.setState({ loading: false });\n    }\n  }\n  \n  render() {\n    if (this.state.loading) {\n      return (\n        <div className='JokeList-spinner'>\n          <i className='far fa-8x fa-laugh fa-spin' />\n          <h1 className='JokeList-title'>Loading...</h1>\n        </div>\n      );\n    }\n    //const orderedJokes = this.state.jokes.sort((a, b) => (a.score > b.score) ? -1 : 1) // 1 is a-z / -1 is z-a\n    //const orderedJokes = this.state.jokes.sort((a, b) => (a.score - b.score)) // same result as above\n    const orderedJokes = this.state.jokes;\n    return (\n      <div className=\"JokeList\">\n        <div className='JokeList-sidebar'>\n          <h1 className='JokeList-title'>\n            <span>Bad</span> Jokes\n          </h1>\n          <img src='https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg' alt=\"smiley\"/>\n          <button className='JokeList-getmore' onClick={this.handleClick}>\n            Fetch More Jokes\n          </button>\n        </div>\n        <div className='JokeList-jokes'>\n          {orderedJokes.map(joke =>\n            <Joke key={joke.id} joke={joke} changeScore={this.changeScore} />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n","import './App.css';\nimport JokeList from './JokeList'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <JokeList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}